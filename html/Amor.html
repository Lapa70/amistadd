<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para Mi Amiga, LUZ AIDA</title>
    
<link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Allura&family=Dancing+Script&family=Satisfy&family=Tangerine&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Orbitron:wght@700&family=Great+Vibes&family=Oswald&family=Parisienne&family=Roboto+Slab&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
        <div class="music-control">
        <button class="music-btn" id="musicBtn" aria-label="Toggle music">
            <svg id="playIcon" viewBox="0 0 24 24">
                <path d="M8 5v14l11-7z"/>
            </svg>
            <svg id="pauseIcon" viewBox="0 0 24 24" style="display: none;">
                <path d="M6 19h4V5H6zm8-14v14h4V5z"/>
            </svg>
        </button>
        <div class="volume-control" id="volumeControl">
            <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.5" aria-label="Volume control">
        </div>
    </div>
    <audio autoplay  muted id="backgroundMusic" >
        <source src="../audio/MINISTERIO TRIUNFO DE LA FÉ __ MORANDO BAJO LA SOMBRA DEL OMNIPOTENTE __ video oficial 2023 [1AntEDWybkA].mp3" type="audio/mpeg">
       
    </audio>
    
    <div class="parallax-bg"></div>
    <div class="overlay-bg"></div>
    <div class="main-container">
        <h1 class="title">Para Mi Amiga, LUZ AIDA</h1>
        <div class="intro glass-effect">
           Hoy celebramos nuestra amistad, un lazo que ilumina mis días. Esta sorpresa es un pequeño agradecimiento por ser una persona tan increíble en mi vida.        </div>

        <div class="quote-section glass-effect">
            "Tú eres mi hogar, mi refugio, mi amor por siempre."
        </div>

        <div class="carousel">
            <div class="image-container active" style="background-image: url('https://dedicapag.rf.gd/Uploads/68349c9e12166_WhatsApp Image 2025-05-26 at 11.53.19 AM.jpeg');">
                <img src="https://dedicapag.rf.gd/Uploads/68349c9e12166_WhatsApp Image 2025-05-26 at 11.53.19 AM.jpeg" alt="Memory 1">
            </div>
            <div class="image-container" style="background-image: url('https://dedicapag.rf.gd/Uploads/68349c9e123fa_WhatsApp Image 2025-05-26 at 11.53.20 AM.jpeg');">
                <img src="https://dedicapag.rf.gd/Uploads/68349c9e123fa_WhatsApp Image 2025-05-26 at 11.53.20 AM.jpeg" alt="Memory 2">
            </div>
            <div class="image-container" style="background-image: url('https://dedicapag.rf.gd/Uploads/68349c9e1267d_WhatsApp Image 2025-05-26 at 11.53.19 AM (1).jpeg');">
                <img src="https://dedicapag.rf.gd/Uploads/68349c9e1267d_WhatsApp Image 2025-05-26 at 11.53.19 AM (1).jpeg" alt="Memory 3">
            </div>
            <button class="carousel-btn prev-btn"><i class="fas fa-chevron-left"></i></button>
            <button class="carousel-btn next-btn"><i class="fas fa-chevron-right"></i></button>
        </div>

        <div class="divider"></div>

        <button class="heart-btn" id="openLetterBtn"><span>Lee Mi Carta</span></button>

        <div class="letter-overlay" id="letterOverlay">
            <div class="letter-card">
                <button class="close" id="closeLetterBtn">×</button>
                <h2>Carta de Mi Corazón</h2>
                <div class="typewriter-container" id="typewriterText">
                                            <div class="line"><span class="text"></span><span class="cursor"></span></div>
                                    </div>
                <p class="signature">
                    Con cariño, ROBERT JOSUE                </p>
            </div>
        </div>

        <div class="memory-section glass-effect fade-in-section">
            <h2 class="section-title">Nuestros Recuerdos</h2>
                            <div class="memory-item hover-effect">
                    <h3>El Primer Encuentro</h3>
                    <div class="date">11 de Agosto, 2024</div>
                    <p>Ese día, mi corazón supo que había encontrado a su otra mitad.</p>
                </div>
                            <div class="memory-item hover-effect">
                    <h3>Nuestra Canción</h3>
                    <div class="date">Triunfo de la Fé</div>
                    <p>Cada nota me recuerda a ti y a nuestros momentos juntos.</p>
                </div>
                            <div class="memory-item hover-effect">
                    <h3>El Viaje Soñado</h3>
                    <div class="date">Lircay, la pequeña Suiza</div>
                    <p>Explorar el mundo contigo es mi mayor aventura.</p>
                </div>
                    </div>

        <div class="time-since-birth glass-effect fade-in-section">
            <div class="time-title">Tiempo Desde Que Naciste</div>
            <div class="time-display" id="timeDisplay">294:76:54:13</div>
            <div class="time-label">Días : Horas : Min : Seg</div>
            <div class="personalized-message">Desde que te conocí, has sido lo más preciado en mi vida, mi querida Niña..</div>
        </div>

        <div class="future-plans glass-effect fade-in-section">
            <h2 class="section-title">Nuestro Futuro</h2>
            <p>Imagina los días que vendrán: viajes, risas, y un amor que crece cada día. Contigo, todo es posible.</p>
        </div>

        <div class="love-meter glass-effect fade-in-section">
            <h2>
                Nuestra Amistad            </h2>
            <div class="meter-container">
                <div class="meter-fill"></div>
            </div>
            <div class="meter-text">100% Tu Amigo, siempre</div>
        </div>

        <div class="end-message glass-effect fade-in-section">
            Hecho con todo mi corazón para la persona que ilumina mi mundo.            <p class="signature">ROBERT JOSUE</p>
        </div>
    </div>

    <div class="footer">
        <p>© 2025 Creado con
            cariño para LUZ AIDA        </p>
    </div>

    <script>
        function createStars() {
            const sky = document.querySelector('.overlay-bg');
            for (let i = 0; i < 150; i++) {
                const star = document.createElement('div');
                star.className = 'particle';
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.animation = `fadeInUp ${Math.random() * 2 + 1}s infinite`;
                star.style.animationDelay = `${Math.random() * 3}s`;
                sky.appendChild(star);
            }
        }

        createStars();

        const carouselContainers = document.querySelectorAll('.carousel .image-container');
        let currentImage = 0;
        let isTransitioning = false;

        function showImage(index, direction = 'next') {
            if (isTransitioning) return;
            isTransitioning = true;

            const currentContainer = carouselContainers[currentImage];
            const nextContainer = carouselContainers[index];

            carouselContainers.forEach(container => {
                container.classList.remove('active');
                container.style.opacity = '0';
                container.style.transform = direction === 'next' ? 'translateX(100%)' : 'translateX(-100%)';
            });

            nextContainer.classList.add('active');
            nextContainer.style.opacity = '1';
            nextContainer.style.transform = 'translateX(0)';

            setTimeout(() => {
                isTransitioning = false;
            }, 800);

            currentImage = index;
        }

        document.querySelector('.next-btn').addEventListener('click', () => {
            const nextIndex = (currentImage + 1) % carouselContainers.length;
            showImage(nextIndex, 'next');
        });

        document.querySelector('.prev-btn').addEventListener('click', () => {
            const prevIndex = (currentImage - 1 + carouselContainers.length) % carouselContainers.length;
            showImage(prevIndex, 'prev');
        });

        setInterval(() => {
            const nextIndex = (currentImage + 1) % carouselContainers.length;
            showImage(nextIndex, 'next');
        }, 6000);

        let typewriterTimeout = null;

        function typeLine(lineElement, text, speed = 20, onDone) {
            const textSpan = lineElement.querySelector('.text');
            const cursor = lineElement.querySelector('.cursor');
            textSpan.textContent = '';
            lineElement.classList.add('active');
            let index = 0;

            function typeChar() {
                if (index < text.length) {
                    textSpan.textContent += text.charAt(index);
                    index++;
                    typewriterTimeout = setTimeout(typeChar, speed);
                } else {
                    cursor.style.display = 'none';
                    if (onDone) onDone();
                }
            }

            cursor.style.display = 'inline-block';
            typeChar();
        }

        function openLetterModal() {
            const overlay = document.getElementById('letterOverlay');
            const typewriterText = document.getElementById('typewriterText');
            const lines = typewriterText.querySelectorAll('.line');
            const texts = [
            "Mi Niña hermosa❤️, cada momento contigo es un tesoro invaluable. Desde el día que te conocí, supe que nuestra amistad estaba destinada a ser especial. Gracias por cada risa, cada abrazo y cada aventura compartida. Hoy celebramos nuestra conexión, y quiero que sepas que siempre estaré aquí para apoyarte y celebrar juntas todos nuestros sueños. Eres una luz en mi vida, y prometo valorar nuestra amistad siempre."
            ].filter(text => text.trim() !== '');


            if (typewriterTimeout) {
                clearTimeout(typewriterTimeout);
                typewriterTimeout = null;
            }

            lines.forEach(line => {
                const textSpan = line.querySelector('.text');
                const cursor = line.querySelector('.cursor');
                textSpan.textContent = '';
                cursor.style.display = 'none';
                line.classList.remove('active');
            });

            overlay.style.display = 'flex';

            function typeNextLine(index) {
                if (index < lines.length && index < texts.length && texts[index]) {
                    typeLine(lines[index], texts[index], 20, () => {
                        typeNextLine(index + 1);
                    });
                } else {
                    lines.forEach(line => line.querySelector('.cursor').style.display = 'none');
                }
            }

            typeNextLine(0);
        }

        document.getElementById('openLetterBtn').addEventListener('click', openLetterModal);

        document.getElementById('closeLetterBtn').addEventListener('click', () => {
            const overlay = document.getElementById('letterOverlay');
            const typewriterText = document.getElementById('typewriterText');
            const lines = typewriterText.querySelectorAll('.line');

            if (typewriterTimeout) {
                clearTimeout(typewriterTimeout);
                typewriterTimeout = null;
            }

            lines.forEach(line => {
                const textSpan = line.querySelector('.text');
                const cursor = line.querySelector('.cursor');
                textSpan.textContent = '';
                cursor.style.display = 'none';
            });

            overlay.style.display = 'none';
        });

        window.onclick = function(event) {
            const overlay = document.getElementById('letterOverlay');
            if (event.target === overlay) {
                const typewriterText = document.getElementById('typewriterText');
                const lines = typewriterText.querySelectorAll('.line');

                if (typewriterTimeout) {
                    clearTimeout(typewriterTimeout);
                    typewriterTimeout = null;
                }

                lines.forEach(line => {
                    const textSpan = line.querySelector('.text');
                    const cursor = line.querySelector('.cursor');
                    textSpan.textContent = '';
                    cursor.style.display = 'none';
                });

                overlay.style.display = 'none';
            }
        };

        const fadeSections = document.querySelectorAll('.fade-in-section');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    if (entry.target.classList.contains('love-meter')) {
                        const meterFill = entry.target.querySelector('.meter-fill');
                        setTimeout(() => {
                            meterFill.classList.add('active');
                        }, 500);
                    }
                }
            });
        }, { threshold: 0.1 });

        fadeSections.forEach(section => observer.observe(section));

        document.addEventListener('click', (e) => {
            for (let i = 0; i < 10; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = `${e.clientX}px`;
                particle.style.top = `${e.clientY}px`;
                particle.style.animation = `zoomIn 0.8s ease-out`;
                document.body.appendChild(particle);
                setTimeout(() => particle.remove(), 800);
            }
        });

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', (e) => {
                e.preventDefault();
                document.querySelector(anchor.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        let days = 294;
        let hours = 76;
        let minutes = 54;
        let seconds = 13;
        const timeDisplay = document.getElementById('timeDisplay');

        function updateTime() {
            seconds++;
            if (seconds >= 60) {
                seconds = 0;
                minutes++;
            }
            if (minutes >= 60) {
                minutes = 0;
                hours++;
            }
            if (hours >= 24) {
                hours = 0;
                days++;
            }
            timeDisplay.textContent = `${days.toString().padStart(3, '0')}:${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        setInterval(updateTime, 1000);

        function toggleMusic() {
            const music = document.getElementById('backgroundMusic');
            const playIcon = document.getElementById('playIcon');
            const pauseIcon = document.getElementById('pauseIcon');
            if (!music) {
                console.error('No music element found');
                return;
            }
            if (music.paused) {
                music.play().then(() => {
                    console.log('Music playing at:', music.currentTime);
                    playIcon.style.display = 'none';
                    pauseIcon.style.display = 'block';
                }).catch(error => {
                    console.error('Error playing audio:', error.message);
                });
            } else {
                music.pause();
                console.log('Music paused at:', music.currentTime);
                playIcon.style.display = 'block';
                pauseIcon.style.display = 'none';
            }
        }

                window.onload = function() {
            const music = document.getElementById('backgroundMusic');
            const musicBtn = document.getElementById('musicBtn');
            const playIcon = document.getElementById('playIcon');
            const pauseIcon = document.getElementById('pauseIcon');
            const volumeSlider = document.getElementById('volumeSlider');
            const volumeControl = document.getElementById('volumeControl');

            if (!music || !musicBtn || !volumeSlider || !volumeControl) {
                console.error('Music or control elements not found');
                return;
            }

            music.volume = volumeSlider.value;

            music.load();
            music.currentTime = 0;
            music.play().then(() => {
                console.log('Autoplay successful at:', music.currentTime);
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'block';
            }).catch(error => {
                console.warn('Autoplay blocked:', error.message);
            });

            musicBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                toggleMusic();
                if (!volumeControl.classList.contains('visible')) {
                    volumeControl.classList.add('visible');
                    clearTimeout(hideVolumeTimeout);
                    hideVolumeTimeout = setTimeout(() => volumeControl.classList.remove('visible'), 2000);
                } else {
                    volumeControl.classList.remove('visible');
                }
            });

            let hideVolumeTimeout = null;
            volumeSlider.addEventListener('input', (e) => {
                music.volume = e.target.value;
                console.log('Volume set to:', music.volume);
                clearTimeout(hideVolumeTimeout);
                volumeControl.classList.add('visible');
            });

            volumeSlider.addEventListener('change', () => {
                hideVolumeTimeout = setTimeout(() => volumeControl.classList.remove('visible'), 2000);
            });

            volumeControl.addEventListener('mouseenter', () => clearTimeout(hideVolumeTimeout));
            volumeControl.addEventListener('mouseleave', () => {
                hideVolumeTimeout = setTimeout(() => volumeControl.classList.remove('visible'), 2000);
            });

            volumeSlider.addEventListener('touchstart', (e) => {
                e.stopPropagation();
                clearTimeout(hideVolumeTimeout);
            });
            volumeSlider.addEventListener('touchend', () => {
                hideVolumeTimeout = setTimeout(() => volumeControl.classList.remove('visible'), 2000);
            });

            document.addEventListener('click', (e) => {
                if (!volumeControl.contains(e.target) && !musicBtn.contains(e.target)) {
                    volumeControl.classList.remove('visible');
                    clearTimeout(hideVolumeTimeout);
                }
            });

            music.addEventListener('loadeddata', () => console.log('Audio data loaded'));
            music.addEventListener('error', (e) => console.error('Audio error:', e.message));
            music.addEventListener('play', () => console.log('Music play event'));
            music.addEventListener('pause', () => console.log('Music pause event'));
        };
            </script>
</body>
<script>
  window.addEventListener("click", function playAudio() {
    const audio = document.getElementById("backgroundMusic");
    audio.muted = false; // Desactiva el mute si está silenciado
    audio.play();        // Intenta reproducir el audio
    window.removeEventListener("click", playAudio); // Solo una vez
  });
</script>
</html>